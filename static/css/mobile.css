/* ===========================================
   COACHES HUB - MOBILE OPTIMIZATIONS
   Touch-Friendly, Responsive Enhancements
   =========================================== */

/* ===========================================
   1. MOBILE NAVIGATION SYSTEM
   =========================================== */

/* Navigation Toggle Button */
.nav-toggle-btn {
  position: fixed;
  top: var(--space-4);
  left: var(--space-4);
  z-index: 1100;
  background: var(--secondary);
  color: white;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-lg);
  transition: all var(--transition);
  cursor: pointer;
}

.nav-toggle-btn:hover {
  background: var(--secondary-light);
  transform: scale(1.05);
}

/* Hamburger Icon */
.toggle-icon {
  position: relative;
  width: 20px;
  height: 2px;
  background: white;
  transition: all var(--transition);
}

.toggle-icon::before,
.toggle-icon::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 2px;
  background: white;
  transition: all var(--transition);
}

.toggle-icon::before {
  top: -6px;
}

.toggle-icon::after {
  top: 6px;
}

/* Animated state */
.toggle-icon.open {
  background: transparent;
}

.toggle-icon.open::before {
  transform: rotate(45deg);
  top: 0;
}

.toggle-icon.open::after {
  transform: rotate(-45deg);
  top: 0;
}

/* Navigation Sidebar */
.nav-brand {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4);
  border-bottom: 1px solid var(--border);
}

.logo-container {
  width: 40px;
  height: 40px;
  background: linear-gradient(145deg, var(--primary), var(--primary-dark));
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

/* User Info in Sidebar */
.user-info {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4);
  border-bottom: 1px solid var(--border);
  background: var(--background);
}

.user-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(145deg, var(--primary), var(--primary-dark));
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.2rem;
}

.user-details {
  display: flex;
  flex-direction: column;
}

.username {
  font-weight: 600;
  color: var(--text-primary);
}

.user-role {
  font-size: var(--text-sm);
  color: var(--text-secondary);
}

/* Navigation Sections */
.nav-section {
  padding: var(--space-4) 0;
}

.nav-section-title {
  font-size: var(--text-xs);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  margin: 0 var(--space-4) var(--space-3);
}

.nav-menu {
  list-style: none;
  padding: 0;
  margin: 0;
}

.nav-item {
  margin: 0;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  color: var(--text-primary);
  text-decoration: none;
  transition: all var(--transition);
  min-height: var(--touch-target);
}

.nav-link:hover {
  background: var(--background);
  color: var(--primary);
}

.nav-item.active .nav-link {
  background: rgba(0, 160, 126, 0.1);
  color: var(--primary);
  border-right: 3px solid var(--primary);
}

.nav-icon {
  font-size: 1.2rem;
  width: 24px;
  text-align: center;
}

/* Admin Link Styling */
.admin-link {
  background: rgba(231, 76, 60, 0.1);
  color: var(--danger) !important;
}

.admin-link:hover {
  background: rgba(231, 76, 60, 0.2);
}

/* Navigation Footer */
.nav-footer {
  margin-top: auto;
  padding: var(--space-4);
  border-top: 1px solid var(--border);
}

.logout-btn {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  width: 100%;
  padding: var(--space-3) var(--space-4);
  background: rgba(231, 76, 60, 0.1);
  color: var(--danger);
  text-decoration: none;
  border-radius: var(--radius);
  transition: all var(--transition);
  min-height: var(--touch-target);
}

.logout-btn:hover {
  background: var(--danger);
  color: white;
}

/* ===========================================
   2. MOBILE-FIRST RESPONSIVE DESIGN
   =========================================== */

/* Mobile Button Optimizations */
@media (max-width: 767px) {
  .btn-base,
  .btn {
    min-height: var(--touch-target);
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-sm);
  }
  
  .btn-full {
    width: 100%;
    justify-content: center;
  }
  
  .btn-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .btn-group .btn-base,
  .btn-group .btn {
    width: 100%;
  }
  
  /* Mobile Navigation Adjustments */
  .title-nav-buttons {
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-2);
  }
  
  .title-nav-buttons .btn-base,
  .title-nav-buttons .btn {
    width: 100%;
    justify-content: center;
  }
}

/* Tablet Optimizations */
@media (min-width: 768px) and (max-width: 1023px) {
  .btn-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }
  
  .title-nav-buttons {
    justify-content: center;
    gap: var(--space-3);
  }
}

/* Desktop Optimizations */
@media (min-width: 1024px) {
  .nav-toggle-btn {
    display: none;
  }
  
  .btn-group {
    display: flex;
    gap: var(--space-2);
  }
}

/* ===========================================
   3. MOBILE FORM OPTIMIZATIONS
   =========================================== */

@media (max-width: 767px) {
  /* Form Layout */
  .form-row {
    flex-direction: column;
    gap: 0;
  }
  
  .form-group {
    margin-bottom: var(--space-4);
  }
  
  /* Input Optimizations */
  .input-base,
  .form-control {
    min-height: var(--touch-target);
    font-size: 16px; /* Prevents zoom on iOS */
    -webkit-appearance: none;
    appearance: none;
  }
  
  /* Select Styling */
  select.input-base,
  select.form-control {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right var(--space-2) center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: var(--space-8);
  }
  
  /* Textarea Optimization */
  textarea.input-base,
  textarea.form-control {
    resize: vertical;
    min-height: 100px;
  }
  
  /* Checkbox and Radio */
  .form-check {
    align-items: flex-start;
    gap: var(--space-3);
  }
  
  .form-check-input {
    width: 20px;
    height: 20px;
    margin-top: 2px;
  }
  
  .form-check-label {
    line-height: 1.4;
  }
}

/* ===========================================
   4. MOBILE TABLE ALTERNATIVES
   =========================================== */

@media (max-width: 767px) {
  /* Hide complex tables on mobile */
  .table-responsive {
    border: none;
  }
  
  .table-mobile-hidden {
    display: none;
  }
  
  /* Mobile Card Layout for Tables */
  .mobile-cards {
    display: block;
  }
  
  .mobile-card {
    background: var(--surface);
    border-radius: var(--radius);
    padding: var(--space-4);
    margin-bottom: var(--space-3);
    box-shadow: var(--shadow);
    border-left: 4px solid var(--primary);
  }
  
  .mobile-card-header {
    font-weight: 600;
    font-size: var(--text-lg);
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border);
    color: var(--text-primary);
  }
  
  .mobile-card-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2) 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  }
  
  .mobile-card-row:last-child {
    border-bottom: none;
  }
  
  .mobile-card-label {
    font-size: var(--text-sm);
    color: var(--text-secondary);
    font-weight: 500;
  }
  
  .mobile-card-value {
    font-size: var(--text-sm);
    color: var(--text-primary);
    font-weight: 500;
    text-align: right;
  }
  
  .mobile-card-actions {
    margin-top: var(--space-3);
    padding-top: var(--space-3);
    border-top: 1px solid var(--border);
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
  }
  
  .mobile-card-actions .btn-base,
  .mobile-card-actions .btn {
    flex: 1;
    min-width: 80px;
    font-size: var(--text-xs);
  }
}

@media (min-width: 768px) {
  .mobile-cards {
    display: none;
  }
}

/* ===========================================
   5. MOBILE MODAL OPTIMIZATIONS
   =========================================== */

@media (max-width: 767px) {
  .modal-dialog {
    margin: var(--space-4);
    max-width: calc(100% - 2rem);
  }
  
  .modal-content {
    border-radius: var(--radius-lg);
  }
  
  .modal-header {
    padding: var(--space-4);
    border-bottom: 1px solid var(--border);
  }
  
  .modal-body {
    padding: var(--space-4);
  }
  
  .modal-footer {
    padding: var(--space-4);
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .modal-footer .btn-base,
  .modal-footer .btn {
    width: 100%;
    justify-content: center;
    min-height: var(--touch-target);
  }
}

/* ===========================================
   6. MOBILE SPACING ADJUSTMENTS
   =========================================== */

@media (max-width: 767px) {
  /* Reduce padding on mobile */
  .container {
    padding: 0 var(--space-3);
  }
  
  .card-base,
  .tennis-card {
    padding: var(--space-4);
    margin-bottom: var(--space-4);
  }
  
  .page-title-container {
    padding: var(--space-4) var(--space-3);
    margin-bottom: var(--space-4);
  }
  
  .page-title {
    font-size: var(--text-xl);
  }
  
  .summary-grid {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: var(--space-3);
  }
  
  .summary-card {
    padding: var(--space-4);
  }
  
  .summary-amount {
    font-size: var(--text-xl);
  }
}

/* ===========================================
   7. TOUCH GESTURE SUPPORT
   =========================================== */

/* Improve touch targets */
.interactive {
  cursor: pointer;
  -webkit-tap-highlight-color: rgba(0, 160, 126, 0.2);
  user-select: none;
}

/* Swipe-friendly cards */
.swipeable {
  touch-action: pan-x;
}

/* Scroll improvements */
.scroll-container {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* ===========================================
   8. MOBILE TYPOGRAPHY ADJUSTMENTS
   =========================================== */

@media (max-width: 767px) {
  /* Adjust font sizes for mobile readability */
  .text-3xl {
    font-size: var(--text-2xl);
  }
  
  .text-2xl {
    font-size: var(--text-xl);
  }
  
  .card-title,
  .section-title {
    font-size: var(--text-lg);
  }
  
  /* Improve line height for mobile reading */
  .mobile-text {
    line-height: 1.6;
  }
  
  /* Better contrast for small text */
  .text-xs,
  .text-sm {
    color: var(--text-primary);
  }
}

/* ===========================================
   9. MOBILE-SPECIFIC ANIMATIONS
   =========================================== */

@media (max-width: 767px) {
  /* Reduce motion for better performance */
  .hover-subtle:hover {
    transform: none;
  }
  
  /* Touch feedback */
  .btn-base:active,
  .btn:active {
    transform: scale(0.98);
  }
  
  .nav-link:active {
    background: rgba(0, 160, 126, 0.1);
  }
}

/* ===========================================
   10. PWA & APP-LIKE BEHAVIOR
   =========================================== */

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  .input-base,
  .form-control {
    -webkit-appearance: none;
    border-radius: var(--radius);
  }
  
  /* Fix for iOS zoom on input focus */
  .input-base,
  .form-control,
  select,
  textarea {
    font-size: 16px;
  }
}

/* Android Chrome specific */
@media screen and (max-width: 767px) {
  /* Prevent zoom on inputs */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  input[type="password"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  select,
  textarea {
    font-size: 16px;
  }
}

/* Full-screen PWA adjustments */
@media (display-mode: standalone) {
  .nav-toggle-btn {
    top: calc(env(safe-area-inset-top) + var(--space-4));
  }
  
  .page-title-container {
    padding-top: calc(env(safe-area-inset-top) + var(--space-6));
  }
}

/* ===========================================
   11. ACCESSIBILITY IMPROVEMENTS
   =========================================== */

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --border: #000;
    --text-secondary: var(--text-primary);
  }
  
  .btn-base,
  .btn {
    border: 2px solid currentColor;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Focus indicators for keyboard navigation */
.btn-base:focus,
.btn:focus,
.input-base:focus,
.form-control:focus,
.nav-link:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===========================================
   12. MOBILE-SPECIFIC UTILITIES
   =========================================== */

/* Mobile-only visibility */
.mobile-only {
  display: block;
}

.desktop-only {
  display: none;
}

@media (min-width: 768px) {
  .mobile-only {
    display: none;
  }
  
  .desktop-only {
    display: block;
  }
}

/* Mobile spacing utilities */
@media (max-width: 767px) {
  .mobile-p-2 { padding: var(--space-2); }
  .mobile-p-3 { padding: var(--space-3); }
  .mobile-p-4 { padding: var(--space-4); }
  
  .mobile-m-2 { margin: var(--space-2); }
  .mobile-m-4 { margin: var(--space-4); }
  
  .mobile-text-center { text-align: center; }
  .mobile-full-width { width: 100%; }
}

/* ===========================================
   13. PERFORMANCE OPTIMIZATIONS
   =========================================== */

/* GPU acceleration for smooth animations */
.card-base,
.btn-base,
.nav-link {
  will-change: transform;
  backface-visibility: hidden;
}

/* Optimize scrolling */
.scroll-smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* ===========================================
   14. DARK MODE PREPARATION
   =========================================== */

@media (prefers-color-scheme: dark) {
  /* Dark mode variables would go here */
  /* Currently maintaining light theme for consistency */
}

/* ===========================================
   15. PRINT OPTIMIZATIONS FOR MOBILE
   =========================================== */

@media print {
  .nav-toggle-btn,
  .mobile-only,
  .btn-base,
  .btn {
    display: none !important;
  }
  
  .mobile-card {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #ddd;
  }
  
  .page-title-container {
    padding: var(--space-2) 0;
  }
}